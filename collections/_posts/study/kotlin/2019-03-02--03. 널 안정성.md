---
layout: post
title: "널 안정성 (Null Safety)"
date: 2019-03-02T00:00:02Z
authors: ["y-mg"]
categories: [Kotlin]
description: "NullPointerException"
thumbnail: "/assets/images/study/kotlin/kotlin.png"
image: "/assets/images/study/kotlin/kotlin.png"
comments: false
---

## lateinit, 지연 초기화
프로퍼티를 선언할 때 초기화하는 작업을 뒤로 미루어서 값을 할당하지 않고 선언할 수 있다.
- <code style="color: #eb5657;">var</code> 프로퍼티만 사용 가능
- 기본 자료형(Primitive Type)에는 사용할 수 없음
- <code style="color: #eb5657;">.isInitialized</code> 를 사용하여 초기화 여부를 확인할 수 있음
- 초기화히지 않고 사용하면 에러 발생
<br/>
<br/>

```kotlin
fun main() {
    val sample = Sample()

    println(sample.getText()) // default value
    
    sample.text = "new value"
    println(sample.getText()) // new value
}

class Sample{
    lateinit var text: String
    
    fun getText(): String = 
        if (::text.isInitialized) {
            text
        } else {
            "default value"
        }
}
```
<br/>



## lazy, 초기화 지연
프로퍼티를 선언할 때 초기화 코드를 정의하고, 최초 호출될 때 초기화 코드가 동작한다.
- <code style="color: #eb5657;">val</code> 프로퍼티만 사용 가능 
- <code style="color: #eb5657;">val</code> 을 사용하기 때문에 값을 변경할 수 없음
- <code style="color: #eb5657;">by lazy</code> 를 붙이고 람다 함수를 정의하면 됨
- 람다 함수 형태의 초기화 함수를 사용하는 형태로 함수 안에 여러 개의 구문이 들어갈 수 있으며, 마지막 구문의 값이 할당됨
<br/>
<br/>

```kotlin
fun main() {
    val number: Int by lazy {
        println("초기화")
        100
    }

    println(number) // 초기화 진행
    println(number) // 이미 초기화가 되었기 때문에 다시 초기화 코드를 실행하지 않음
}


// 초기화
// 100
// 100
```