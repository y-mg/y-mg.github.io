---
layout: post
title: "inline 함수"
date: 2019-03-04T00:00:01Z
authors: ["y-mg"]
categories: [Kotlin]
description: "apply / run / with / let / also"
thumbnail: "/assets/images/study/kotlin/kotlin.png"
image: "/assets/images/study/kotlin/kotlin.png"
comments: false
---

## inline 함수
- 코틀린에서 람다는 컴파일 단계에서 파라티머 개수에 따라 FunctionNumber 형태의 인터페이스로 변환(2개면, Function2<P1, P2, R>)
따라서 람다식을 사용하게 되면 일반 함수 구현에 비해 추가적인 비용이 들어서 똑같은 작업을하는 일반 함수보다 오버헤드가 발생해서 덜 효율적이게 됨
- 이러한 람다식을 일반함수 처럼 효율적으로 만들어주는게 인라인함수
- inline 키워드를 붙이면 그 함수를 호출하는 지점이 inline 되어서 컴파일 단계에서 함수를 호출하는 코드 대신에 함수 본문 코드 자체가 삽입되는 방식으로 컴파일된다.
- inline 된 함수의 디컴파일 결과를 보면 확인할 수 있음
<br/>
<br/>


## apply
수신 객체의 내부 프로퍼티를 변경한 후 수신객체 자신을 반환하는 함수이다.
- 람다식의 수신 객체가 <code style="color: #eb5657;">apply</code> 의 수신 객체여서 수신 객체에 대한 명시(<code style="color: #eb5657;">this</code>)를 생략하는 것이 가능
- 객체 생성 시에 다양한 프로퍼티를 설정해야 하는 경우에 사용

```kotlin
// fun <T> T.apply(block: T.() -> Unit): T
fun main() {
    val user = User().apply {
        name = "BBB"
        age = 20
    }
}

data class User(
    var name: String = "AAA", 
    var age: Int = 0
)
```