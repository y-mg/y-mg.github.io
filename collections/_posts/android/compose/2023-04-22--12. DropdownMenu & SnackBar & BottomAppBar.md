---
layout: post
title: "DropdownMenu / SnackBar / BottomAppBar"
date: 2023-04-21T00:00:00Z
authors: ["y-mg"]
categories: [Android, Jetpack]
description: "Use Compose - DropdownMenu / SnackBar / BottomAppBar"
thumbnail: "/assets/images/android/android-compose.png"
image: "/assets/images/android/android-compose.png"
comments: false
---

## DropdownMenu
***
사용자가 버튼을 누르면 선택지를 보여주는 메뉴 아이템이다.
<br/>

```kotlin
@Composable
fun DropdownMenuEx() {
    var expandDropDownMenu by remember { mutableStateOf(false) }
    var counter by remember { mutableStateOf(0) }

    Column {
        Button(onClick = { expandDropDownMenu = true }) {
            Text("드롭다운 메뉴 열기")
        }
        Text("카운터: $counter")
    }

    DropdownMenu(
        expanded = expandDropDownMenu,
        onDismissRequest = { expandDropDownMenu = false }
    ) {
        DropdownMenuItem(
            onClick = { counter++ }
        ) {
            Text("증가")
        }
        DropdownMenuItem(
            onClick = { counter-- }
        ) {
            Text("감소")
        }
    }
}
```
- <span onClick="window.open('https://github.com/y-mg/compose-study/blob/main/Part%2002/08.%20DropdownMenu/app/src/main/java/com/ymg/compose/dropdownmenu/MainActivity.kt');" style="cursor:pointer; color: #5495ff;">원본 코드</span>
<br/>
<br/>
<br/>



## Snackbar
***
화면 하단에 위치하는 메시지 상자로, 사용자에게 메시지를 표시하고 사용자의 액션을 받을 수 있도록 도와준다.
<br/>

```kotlin
@Composable
fun SnackbarEx() {
    var counter by remember { mutableStateOf(0) }
    val scaffoldState = rememberScaffoldState()

    val coroutineScope = rememberCoroutineScope()

    Scaffold(
        scaffoldState = scaffoldState,
        content = {
            Column(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues = it)
            ) {
                Button(
                    onClick = {
                        counter++
                        coroutineScope.launch {
                            val result = scaffoldState.snackbarHostState.showSnackbar(
                                message = "카운터는 $counter 입니다.",
                                actionLabel = "닫기",
                                duration = SnackbarDuration.Short
                            )

                            when (result) {
                                SnackbarResult.Dismissed -> {}
                                SnackbarResult.ActionPerformed -> {}
                            }
                        }
                    }
                ) {
                    Text("더하기")
                }
            }
        }
    )


    /**
     * rememberScaffoldState 는 scaffoldState 를 만들고 기억하는 함수
     *
     * 코루틴 스코프를 만드는 이유는 스낵바가 suspend 함수이기 때문임
     *
     * 컴포저블 함수로 Snackbar 가 있지만 스낵바의 Dissmiss, 애니메이션 등을 정의해야해서 사용하기 까다롭기 때문에
     * 간단한 것은 scaffoldState 의 snackbarHostState 를 통해 스낵바를 사용하는 것이 권장됨
     */
}
```
- <span onClick="window.open('https://github.com/y-mg/compose-study/blob/main/Part%2002/09.%20Snackbar/app/src/main/java/com/ymg/compose/snackbar/MainActivity.kt');" style="cursor:pointer; color: #5495ff;">원본 코드</span>
<br/>
<br/>
<br/>



## BottomAppBar
***
컴포즈의 <code style="color: #eb5657;">Scaffold</code> 에서 사용할 수 있는 슬롯으로, 화면 하단에 위치하여 네비게이션 메뉴와 다양한 옵션을 간편하게 제공하는 스타일이다.
<br/>

```kotlin
@Composable
fun BottomAppBarEx() {
    val scaffoldState = rememberScaffoldState()
    val coroutineScope = rememberCoroutineScope()
    var counter by remember { mutableStateOf(0) }

    Scaffold(
        scaffoldState = scaffoldState,
        content = {
            Column(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues = it)
            ) {
                Box(
                    modifier = Modifier.fillMaxSize()
                ) {
                    Text(
                        text = "카운터는 ${counter}회 입니다.",
                        modifier = Modifier.align(Alignment.Center)
                    )
                }
            }
        },
        bottomBar = {
            BottomAppBar {
                Text("Hello")
                Button(
                    onClick = {
                        coroutineScope.launch {
                            scaffoldState.snackbarHostState.showSnackbar("안녕하세요")
                        }
                    }
                ) {
                    Text("인사")
                }
                Button(
                    onClick = {
                        counter++
                        coroutineScope.launch {
                            scaffoldState.snackbarHostState.showSnackbar("${counter} 입니다.")
                        }
                    }
                ) {
                    Text("증가")
                }
                Button(
                    onClick = {
                        counter--
                        coroutineScope.launch {
                            scaffoldState.snackbarHostState.showSnackbar("${counter} 입니다.")
                        }
                    }
                ) {
                    Text("감소")
                }
            }
        }
    )
}
```
- <span onClick="window.open('https://github.com/y-mg/compose-study/blob/main/Part%2002/10.%20BottomAppBar/app/src/main/java/com/ymg/compose/bottomappbar/MainActivity.kt');" style="cursor:pointer; color: #5495ff;">원본 코드</span>